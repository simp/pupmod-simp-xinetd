service <%= @name %>
{
    socket_type = <%= @socket_type %>
    user = <%= @user %>
    server = <%= @server %>
    wait = <%= @x_wait %>
    disable = <%= @disable %>
    log_type = <%= @log_type %>
<% unless @log_on_success.empty? -%>
    log_on_success = <%= @log_on_success.join(' ') %>
<% end -%>
<% unless @log_on_failure.empty? -%>
    log_on_failure = <%= @log_on_failure.join(' ') %>
<% end -%>
    port = <%= @port %>
    umask = <%= @x_umask %>
<% unless @x_id.nil? -%>
    id = <%= @x_id %>
<% end -%>
<% unless @x_type.nil? -%>
    type = <%= @x_type %>
<% end -%>
<% unless (@flags.nil? || @flags.empty?) -%>
    flags = <%= @flags.join(' ') %>
<% end -%>
<% unless @protocol.empty? -%>
    protocol = <%= @protocol %>
<% end -%>
<% unless @group.nil? -%>
    group = <%= @group %>
<% end -%>
<% unless @nice.nil? -%>
    nice = <%= @nice %>
<% end -%>
<% unless @server_args.nil? -%>
    server_args = <%= @server_args %>
<% end -%>
<% unless @libwrap.nil? -%>
    libwrap = <%= @libwrap %>
<% end -%>
<% unless @_only_from.empty? -%>
    only_from = <%= @_only_from.join(' ') %>
<% end -%>
<% unless @instances.nil? -%>
    instances = <%= @instances %>
<% end -%>
<% unless @access_times.nil? -%>
    access_times = <%= @access_times %>
<% end -%>
<% unless @rpc_version.nil? -%>
    rpc_version = <%= @rpc_version %>
<% end -%>
<% unless @rpc_number.nil? -%>
    rpc_number = <%= @rpc_number %>
<% end -%>
<% unless @env.nil? -%>
    env = <%= @env %>
<% end -%>
<% unless @passenv.nil? -%>
    passenv = <%= @passenv %>
<% end -%>
<% unless @redirect_ip.nil? -%>
    redirect = <%= @redirect_ip -%>
<%  unless @redirect_port.nil? -%>
 <%=  @redirect_port -%>
<%  end -%>
<% end %>
<% unless @x_bind.nil? -%>
    bind = <%= @x_bind %>
<% end -%>
<% unless @banner.nil? -%>
    banner = <%= @banner %>
<% end -%>
<% unless @banner_success.nil? -%>
    banner_success = <%= @banner_success %>
<% end -%>
<% unless @banner_fail.nil? -%>
    banner_fail = <%= @banner_fail %>
<% end -%>
<% unless @per_source.nil? -%>
    per_source = <%= @per_source %>
<% end -%>
<% unless @cps.nil? -%>
    cps = <%= @cps.join(' ') %>
<% end -%>
<% unless @max_load.nil? -%>
    max_load = <%= @max_load %>
<% end -%>
<% unless @groups.nil? -%>
    groups = <%= @groups %>
<% end -%>
<% unless @mdns.nil? -%>
    mdns = <%= @mdns %>
<% end -%>
<% unless (@enabled.nil? || @enabled.empty?) -%>
    enabled = <%= @enabled.join(' ') %>
<% end -%>
<% unless @rlimit_as.nil? -%>
    rlimit_as = <%= @rlimit_as %>
<% end -%>
<% unless @rlimit_cpu.nil? -%>
    rlimit_cpu = <%= @rlimit_cpu %>
<% end -%>
<% unless @rlimit_data.nil? -%>
    rlimit_data = <%= @rlimit_data %>
<% end -%>
<% unless @rlimit_rss.nil? -%>
    rlimit_rss = <%= @rlimit_rss %>
<% end -%>
<% unless @rlimit_stack.nil? -%>
    rlimit_stack = <%= @rlimit_stack %>
<% end -%>
<% unless @deny_time.nil? -%>
    deny_time = <%= @deny_time %>
<% end -%>
}

<% unless @include.nil? -%>
include <%= @include %>
<% end -%>
<% unless @includedir.nil? -%>
includedir <%= @includedir %>
<% end -%>
